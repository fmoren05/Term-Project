<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.10.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ME 405 Term Project: Term Project/Term-Project/src/main_cotasking.py File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">ME 405 Term Project<span id="projectnumber">&#160;0.1.0</span>
   </div>
   <div id="projectbrief">IR Targeting Nerf Launching Turret</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.10.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('main__cotasking_8py.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">main_cotasking.py File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>This script demonstrates cooperative multitasking using Cotask on a microcontroller.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a0b28f00b5ea10c8766fb3c55f6b23aa5" id="r_a0b28f00b5ea10c8766fb3c55f6b23aa5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0b28f00b5ea10c8766fb3c55f6b23aa5">main_cotasking.firing_sequence_fun</a> ()</td></tr>
<tr class="memdesc:a0b28f00b5ea10c8766fb3c55f6b23aa5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Task function for Firing Sequence.  <br /></td></tr>
<tr class="separator:a0b28f00b5ea10c8766fb3c55f6b23aa5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f521d590903c0bcbdf2103ffe37acaa" id="r_a6f521d590903c0bcbdf2103ffe37acaa"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6f521d590903c0bcbdf2103ffe37acaa">main_cotasking.flywheel_motors_fun</a> ()</td></tr>
<tr class="memdesc:a6f521d590903c0bcbdf2103ffe37acaa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Task function for Flywheel Motors.  <br /></td></tr>
<tr class="separator:a6f521d590903c0bcbdf2103ffe37acaa"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a1f6168c53fe699a46fe4f9c351ddc866" id="r_a1f6168c53fe699a46fe4f9c351ddc866"><td class="memItemLeft" align="right" valign="top"><a id="a1f6168c53fe699a46fe4f9c351ddc866" name="a1f6168c53fe699a46fe4f9c351ddc866"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>main_cotasking.share0</b> = task_share.Share('h', thread_protect=False, name=&quot;Share 0&quot;)</td></tr>
<tr class="separator:a1f6168c53fe699a46fe4f9c351ddc866"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed2598754d4548b0eb231113498079b2" id="r_aed2598754d4548b0eb231113498079b2"><td class="memItemLeft" align="right" valign="top"><a id="aed2598754d4548b0eb231113498079b2" name="aed2598754d4548b0eb231113498079b2"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>main_cotasking.q0</b> = task_share.Queue('L', 16, thread_protect=False, overwrite=False, name=&quot;Queue 0&quot;)</td></tr>
<tr class="separator:aed2598754d4548b0eb231113498079b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf67fbb1c9cfef968c372ba3eb033c66" id="r_abf67fbb1c9cfef968c372ba3eb033c66"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#abf67fbb1c9cfef968c372ba3eb033c66">main_cotasking.task1</a></td></tr>
<tr class="separator:abf67fbb1c9cfef968c372ba3eb033c66"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a89217f3fd121bca64ed83c7dcf98d21d" id="r_a89217f3fd121bca64ed83c7dcf98d21d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a89217f3fd121bca64ed83c7dcf98d21d">main_cotasking.task2</a></td></tr>
<tr class="separator:a89217f3fd121bca64ed83c7dcf98d21d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This script demonstrates cooperative multitasking using Cotask on a microcontroller. </p>
<p>Task 1 performs closed-loop control of the panning axis brushed DC motor based on camera feedback. The camera outputs a hotspot coordinate which is then translated to encoder counts and used as the setpoint for our PID controller. Upon reaching the desired setpoint, the task then calls for the servo motor trigger to activate, placing a Nerf bullet into the path of the flywheels.</p>
<p>Task 2 controls the low-side MOSFET switch that is responsible for sending current to our flywheel motors.</p>
<dl class="section author"><dt>Author</dt><dd>Conor Schott, Fermin Moreno, Berent Baysal </dd></dl>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a0b28f00b5ea10c8766fb3c55f6b23aa5" name="a0b28f00b5ea10c8766fb3c55f6b23aa5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0b28f00b5ea10c8766fb3c55f6b23aa5">&#9670;&#160;</a></span>firing_sequence_fun()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">main_cotasking.firing_sequence_fun </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Task function for Firing Sequence. </p>
<p>Implements closed-loop control of a motor based on camera feedback. </p>

</div>
</div>
<a id="a6f521d590903c0bcbdf2103ffe37acaa" name="a6f521d590903c0bcbdf2103ffe37acaa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6f521d590903c0bcbdf2103ffe37acaa">&#9670;&#160;</a></span>flywheel_motors_fun()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">main_cotasking.flywheel_motors_fun </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Task function for Flywheel Motors. </p>
<p>Activates the low-side MOSFET switch for a set time limit. </p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="abf67fbb1c9cfef968c372ba3eb033c66" name="abf67fbb1c9cfef968c372ba3eb033c66"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abf67fbb1c9cfef968c372ba3eb033c66">&#9670;&#160;</a></span>task1</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">main_cotasking.task1</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line"><span class="lineno">    1</span>=  cotask.Task(firing_sequence_fun, name=<span class="stringliteral">&quot;Firing_Sequence&quot;</span>, priority=1, period=45,</div>
<div class="line"><span class="lineno">    2</span>                        profile=<span class="keyword">True</span>, trace=<span class="keyword">False</span>)</div>
</div><!-- fragment -->
</div>
</div>
<a id="a89217f3fd121bca64ed83c7dcf98d21d" name="a89217f3fd121bca64ed83c7dcf98d21d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a89217f3fd121bca64ed83c7dcf98d21d">&#9670;&#160;</a></span>task2</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">main_cotasking.task2</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line"><span class="lineno">    1</span>=  cotask.Task(flywheel_motors_fun, name=<span class="stringliteral">&quot;Flywheel_Motors&quot;</span>, priority=1, period=45,</div>
<div class="line"><span class="lineno">    2</span>                        profile=<span class="keyword">True</span>, trace=<span class="keyword">False</span>)</div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_f0f75fb57a874d1b0bfbf4992b73e3ce.html">Term Project</a></li><li class="navelem"><a class="el" href="dir_b0efdd0e63a86d76135b406020498d47.html">Term-Project</a></li><li class="navelem"><a class="el" href="dir_b40e0a6c1c25870eb4140bfad41c6f31.html">src</a></li><li class="navelem"><a class="el" href="main__cotasking_8py.html">main_cotasking.py</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.10.0 </li>
  </ul>
</div>
</body>
</html>
